//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/network/api/ApiBroker.java
//

#include "IOSClass.h"
#include "IOSPrimitiveArray.h"
#include "J2ObjC_source.h"
#include "im/actor/model/api/parser/RpcParser.h"
#include "im/actor/model/droidkit/actors/Actor.h"
#include "im/actor/model/droidkit/actors/ActorRef.h"
#include "im/actor/model/droidkit/actors/ActorSystem.h"
#include "im/actor/model/droidkit/actors/Props.h"
#include "im/actor/model/droidkit/actors/conf/EnvConfig.h"
#include "im/actor/model/droidkit/actors/utils/AtomicLongCompat.h"
#include "im/actor/model/log/Log.h"
#include "im/actor/model/network/ActorApiCallback.h"
#include "im/actor/model/network/AuthKeyStorage.h"
#include "im/actor/model/network/Endpoints.h"
#include "im/actor/model/network/RpcCallback.h"
#include "im/actor/model/network/RpcException.h"
#include "im/actor/model/network/RpcInternalException.h"
#include "im/actor/model/network/api/ApiBroker.h"
#include "im/actor/model/network/mtp/AuthIdRetriever.h"
#include "im/actor/model/network/mtp/MTProto.h"
#include "im/actor/model/network/mtp/entity/ProtoSerializer.h"
#include "im/actor/model/network/mtp/entity/ProtoStruct.h"
#include "im/actor/model/network/mtp/entity/rpc/Push.h"
#include "im/actor/model/network/mtp/entity/rpc/RpcError.h"
#include "im/actor/model/network/mtp/entity/rpc/RpcFloodWait.h"
#include "im/actor/model/network/mtp/entity/rpc/RpcInternalError.h"
#include "im/actor/model/network/mtp/entity/rpc/RpcOk.h"
#include "im/actor/model/network/mtp/entity/rpc/RpcRequest.h"
#include "im/actor/model/network/parser/Request.h"
#include "im/actor/model/network/parser/Response.h"
#include "im/actor/model/network/parser/RpcScope.h"
#include "java/io/IOException.h"
#include "java/lang/Long.h"
#include "java/util/Collection.h"
#include "java/util/HashMap.h"
#include "java/util/Random.h"

__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_requestAuthId(ImActorModelNetworkApiApiBroker *self);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_createMtProtoWithLong_(ImActorModelNetworkApiApiBroker *self, jlong key);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_performRequestWithLong_withImActorModelNetworkParserRequest_withAMRpcCallback_(ImActorModelNetworkApiApiBroker *self, jlong randomId, ImActorModelNetworkParserRequest *message, id<AMRpcCallback> callback);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_processResponseWithLong_withByteArray_(ImActorModelNetworkApiApiBroker *self, jlong mid, IOSByteArray *content);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_forceResendWithLong_(ImActorModelNetworkApiApiBroker *self, jlong randomId);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_cancelRequestWithLong_(ImActorModelNetworkApiApiBroker *self, jlong randomId);
__attribute__((unused)) static void ImActorModelNetworkApiApiBroker_processUpdateWithByteArray_(ImActorModelNetworkApiApiBroker *self, IOSByteArray *content);

@interface ImActorModelNetworkApiApiBroker () {
 @public
  AMEndpoints *endpoints_;
  id<AMAuthKeyStorage> keyStorage_;
  id<AMActorApiCallback> callback_;
  JavaUtilHashMap *requests_;
  JavaUtilHashMap *idMap_;
  MTMTProto *proto_;
}

- (void)requestAuthId;

- (void)createMtProtoWithLong:(jlong)key;

- (void)performRequestWithLong:(jlong)randomId
withImActorModelNetworkParserRequest:(ImActorModelNetworkParserRequest *)message
             withAMRpcCallback:(id<AMRpcCallback>)callback;

- (void)processResponseWithLong:(jlong)mid
                  withByteArray:(IOSByteArray *)content;

- (void)forceResendWithLong:(jlong)randomId;

- (void)cancelRequestWithLong:(jlong)randomId;

- (void)processUpdateWithByteArray:(IOSByteArray *)content;
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, endpoints_, AMEndpoints *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, keyStorage_, id<AMAuthKeyStorage>)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, callback_, id<AMActorApiCallback>)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, requests_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, idMap_, JavaUtilHashMap *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker, proto_, MTMTProto *)

@interface ImActorModelNetworkApiApiBroker_PerformRequest () {
 @public
  ImActorModelNetworkParserRequest *message_;
  id<AMRpcCallback> callback_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_PerformRequest, message_, ImActorModelNetworkParserRequest *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_PerformRequest, callback_, id<AMRpcCallback>)

@interface ImActorModelNetworkApiApiBroker_CancelRequest () {
 @public
  jlong randomId_;
}
@end

@interface ImActorModelNetworkApiApiBroker_InitMTProto () {
 @public
  jlong authId_;
}
@end

@interface ImActorModelNetworkApiApiBroker_ProtoResponse () {
 @public
  jlong responseId_;
  IOSByteArray *data_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_ProtoResponse, data_, IOSByteArray *)

@interface ImActorModelNetworkApiApiBroker_ProtoUpdate () {
 @public
  IOSByteArray *data_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_ProtoUpdate, data_, IOSByteArray *)

@interface ImActorModelNetworkApiApiBroker_ForceResend () {
 @public
  jlong id__;
}
@end

@interface ImActorModelNetworkApiApiBroker_RequestHolder () {
 @public
  MTRpcRequest *message_;
  jlong publicId_;
  id<AMRpcCallback> callback_;
  jlong protoId_;
}
- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                               withLong:(jlong)publicId
                                       withMTRpcRequest:(MTRpcRequest *)message
                                      withAMRpcCallback:(id<AMRpcCallback>)callback;
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_RequestHolder, message_, MTRpcRequest *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_RequestHolder, callback_, id<AMRpcCallback>)

@interface ImActorModelNetworkApiApiBroker_$1 () {
 @public
  AMEndpoints *val$endpoints_;
  id<AMAuthKeyStorage> val$keyStorage_;
  id<AMActorApiCallback> val$callback_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_$1, val$endpoints_, AMEndpoints *)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_$1, val$keyStorage_, id<AMAuthKeyStorage>)
J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_$1, val$callback_, id<AMActorApiCallback>)

@interface ImActorModelNetworkApiApiBroker_$2 () {
 @public
  ImActorModelNetworkApiApiBroker *this$0_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_$2, this$0_, ImActorModelNetworkApiApiBroker *)

@interface ImActorModelNetworkApiApiBroker_$3 () {
 @public
  ImActorModelNetworkApiApiBroker *this$0_;
}
@end

J2OBJC_FIELD_SETTER(ImActorModelNetworkApiApiBroker_$3, this$0_, ImActorModelNetworkApiApiBroker *)

BOOL ImActorModelNetworkApiApiBroker_initialized = NO;

@implementation ImActorModelNetworkApiApiBroker

NSString * ImActorModelNetworkApiApiBroker_TAG_ = @"ApiBroker";
ImActorModelDroidkitActorsUtilsAtomicLongCompat * ImActorModelNetworkApiApiBroker_NEXT_RPC_ID_;

+ (ImActorModelDroidkitActorsActorRef *)getWithAMEndpoints:(AMEndpoints *)endpoints
                                      withAMAuthKeyStorage:(id<AMAuthKeyStorage>)keyStorage
                                    withAMActorApiCallback:(id<AMActorApiCallback>)callback {
  return ImActorModelNetworkApiApiBroker_getWithAMEndpoints_withAMAuthKeyStorage_withAMActorApiCallback_(endpoints, keyStorage, callback);
}

- (instancetype)initWithAMEndpoints:(AMEndpoints *)endpoints
               withAMAuthKeyStorage:(id<AMAuthKeyStorage>)keyStorage
             withAMActorApiCallback:(id<AMActorApiCallback>)callback {
  if (self = [super init]) {
    requests_ = [[JavaUtilHashMap alloc] init];
    idMap_ = [[JavaUtilHashMap alloc] init];
    self->endpoints_ = endpoints;
    self->keyStorage_ = keyStorage;
    self->callback_ = callback;
  }
  return self;
}

- (void)preStart {
  if ([((id<AMAuthKeyStorage>) nil_chk(keyStorage_)) getAuthKey] == 0) {
    [((ImActorModelDroidkitActorsActorRef *) nil_chk([self self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_RequestAuthId alloc] initWithImActorModelNetworkApiApiBroker:self]];
  }
  else {
    [((ImActorModelDroidkitActorsActorRef *) nil_chk([self self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_InitMTProto alloc] initWithImActorModelNetworkApiApiBroker:self withLong:[keyStorage_ getAuthKey]]];
  }
}

- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_RequestAuthId class]]) {
    ImActorModelNetworkApiApiBroker_requestAuthId(self);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_InitMTProto class]]) {
    ImActorModelNetworkApiApiBroker_createMtProtoWithLong_(self, [((ImActorModelNetworkApiApiBroker_InitMTProto *) nil_chk(((ImActorModelNetworkApiApiBroker_InitMTProto *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_InitMTProto class])))) getAuthId]);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_PerformRequest class]]) {
    ImActorModelNetworkApiApiBroker_performRequestWithLong_withImActorModelNetworkParserRequest_withAMRpcCallback_(self, [((ImActorModelDroidkitActorsUtilsAtomicLongCompat *) nil_chk(ImActorModelNetworkApiApiBroker_NEXT_RPC_ID_)) getAndIncrement], [((ImActorModelNetworkApiApiBroker_PerformRequest *) nil_chk(((ImActorModelNetworkApiApiBroker_PerformRequest *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_PerformRequest class])))) getMessage], [((ImActorModelNetworkApiApiBroker_PerformRequest *) nil_chk(((ImActorModelNetworkApiApiBroker_PerformRequest *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_PerformRequest class])))) getCallback]);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_CancelRequest class]]) {
    ImActorModelNetworkApiApiBroker_cancelRequestWithLong_(self, [((ImActorModelNetworkApiApiBroker_CancelRequest *) nil_chk(((ImActorModelNetworkApiApiBroker_CancelRequest *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_CancelRequest class])))) getRandomId]);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_ProtoResponse class]]) {
    ImActorModelNetworkApiApiBroker_processResponseWithLong_withByteArray_(self, [((ImActorModelNetworkApiApiBroker_ProtoResponse *) nil_chk(((ImActorModelNetworkApiApiBroker_ProtoResponse *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_ProtoResponse class])))) getResponseId], [((ImActorModelNetworkApiApiBroker_ProtoResponse *) nil_chk(((ImActorModelNetworkApiApiBroker_ProtoResponse *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_ProtoResponse class])))) getData]);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_ForceResend class]]) {
    ImActorModelNetworkApiApiBroker_forceResendWithLong_(self, ((ImActorModelNetworkApiApiBroker_ForceResend *) nil_chk(((ImActorModelNetworkApiApiBroker_ForceResend *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_ForceResend class]))))->id__);
  }
  else if ([message isKindOfClass:[ImActorModelNetworkApiApiBroker_ProtoUpdate class]]) {
    ImActorModelNetworkApiApiBroker_processUpdateWithByteArray_(self, [((ImActorModelNetworkApiApiBroker_ProtoUpdate *) nil_chk(((ImActorModelNetworkApiApiBroker_ProtoUpdate *) check_class_cast(message, [ImActorModelNetworkApiApiBroker_ProtoUpdate class])))) getData]);
  }
}

- (void)requestAuthId {
  ImActorModelNetworkApiApiBroker_requestAuthId(self);
}

- (void)createMtProtoWithLong:(jlong)key {
  ImActorModelNetworkApiApiBroker_createMtProtoWithLong_(self, key);
}

- (void)performRequestWithLong:(jlong)randomId
withImActorModelNetworkParserRequest:(ImActorModelNetworkParserRequest *)message
             withAMRpcCallback:(id<AMRpcCallback>)callback {
  ImActorModelNetworkApiApiBroker_performRequestWithLong_withImActorModelNetworkParserRequest_withAMRpcCallback_(self, randomId, message, callback);
}

- (void)processResponseWithLong:(jlong)mid
                  withByteArray:(IOSByteArray *)content {
  ImActorModelNetworkApiApiBroker_processResponseWithLong_withByteArray_(self, mid, content);
}

- (void)forceResendWithLong:(jlong)randomId {
  ImActorModelNetworkApiApiBroker_forceResendWithLong_(self, randomId);
}

- (void)cancelRequestWithLong:(jlong)randomId {
  ImActorModelNetworkApiApiBroker_cancelRequestWithLong_(self, randomId);
}

- (void)processUpdateWithByteArray:(IOSByteArray *)content {
  ImActorModelNetworkApiApiBroker_processUpdateWithByteArray_(self, content);
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker *)other {
  [super copyAllFieldsTo:other];
  other->endpoints_ = endpoints_;
  other->keyStorage_ = keyStorage_;
  other->callback_ = callback_;
  other->requests_ = requests_;
  other->idMap_ = idMap_;
  other->proto_ = proto_;
}

+ (void)initialize {
  if (self == [ImActorModelNetworkApiApiBroker class]) {
    ImActorModelNetworkApiApiBroker_NEXT_RPC_ID_ = ImActorModelDroidkitActorsConfEnvConfig_createAtomicLongWithLong_(1);
    J2OBJC_SET_INITIALIZED(ImActorModelNetworkApiApiBroker)
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "getWithAMEndpoints:withAMAuthKeyStorage:withAMActorApiCallback:", "get", "Lim.actor.model.droidkit.actors.ActorRef;", 0x9, NULL },
    { "initWithAMEndpoints:withAMAuthKeyStorage:withAMActorApiCallback:", "ApiBroker", NULL, 0x1, NULL },
    { "preStart", NULL, "V", 0x1, NULL },
    { "onReceiveWithId:", "onReceive", "V", 0x1, NULL },
    { "requestAuthId", NULL, "V", 0x2, NULL },
    { "createMtProtoWithLong:", "createMtProto", "V", 0x2, NULL },
    { "performRequestWithLong:withImActorModelNetworkParserRequest:withAMRpcCallback:", "performRequest", "V", 0x2, NULL },
    { "processResponseWithLong:withByteArray:", "processResponse", "V", 0x2, NULL },
    { "forceResendWithLong:", "forceResend", "V", 0x2, NULL },
    { "cancelRequestWithLong:", "cancelRequest", "V", 0x2, NULL },
    { "processUpdateWithByteArray:", "processUpdate", "V", 0x2, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "TAG_", NULL, 0x1a, "Ljava.lang.String;", &ImActorModelNetworkApiApiBroker_TAG_,  },
    { "NEXT_RPC_ID_", NULL, 0x1a, "Lim.actor.model.droidkit.actors.utils.AtomicLongCompat;", &ImActorModelNetworkApiApiBroker_NEXT_RPC_ID_,  },
    { "endpoints_", NULL, 0x12, "Lim.actor.model.network.Endpoints;", NULL,  },
    { "keyStorage_", NULL, 0x12, "Lim.actor.model.network.AuthKeyStorage;", NULL,  },
    { "callback_", NULL, 0x12, "Lim.actor.model.network.ActorApiCallback;", NULL,  },
    { "requests_", NULL, 0x12, "Ljava.util.HashMap;", NULL,  },
    { "idMap_", NULL, 0x12, "Ljava.util.HashMap;", NULL,  },
    { "proto_", NULL, 0x2, "Lim.actor.model.network.mtp.MTProto;", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker = { 1, "ApiBroker", "im.actor.model.network.api", NULL, 0x1, 11, methods, 8, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker;
}

@end

ImActorModelDroidkitActorsActorRef *ImActorModelNetworkApiApiBroker_getWithAMEndpoints_withAMAuthKeyStorage_withAMActorApiCallback_(AMEndpoints *endpoints, id<AMAuthKeyStorage> keyStorage, id<AMActorApiCallback> callback) {
  ImActorModelNetworkApiApiBroker_init();
  return [((ImActorModelDroidkitActorsActorSystem *) nil_chk(ImActorModelDroidkitActorsActorSystem_system())) actorOfWithImActorModelDroidkitActorsProps:ImActorModelDroidkitActorsProps_createWithIOSClass_withImActorModelDroidkitActorsActorCreator_(ImActorModelNetworkApiApiBroker_class_(), [[ImActorModelNetworkApiApiBroker_$1 alloc] initWithAMEndpoints:endpoints withAMAuthKeyStorage:keyStorage withAMActorApiCallback:callback]) withNSString:@"api/broker"];
}

void ImActorModelNetworkApiApiBroker_requestAuthId(ImActorModelNetworkApiApiBroker *self) {
  AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, @"Creating auth key...");
  MTAuthIdRetriever_requestAuthIdWithAMEndpoints_withMTAuthIdRetriever_AuthIdCallback_(self->endpoints_, [[ImActorModelNetworkApiApiBroker_$2 alloc] initWithImActorModelNetworkApiApiBroker:self]);
}

void ImActorModelNetworkApiApiBroker_createMtProtoWithLong_(ImActorModelNetworkApiApiBroker *self, jlong key) {
  AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, @"Creating proto");
  [((id<AMAuthKeyStorage>) nil_chk(self->keyStorage_)) saveAuthKeyWithLong:key];
  self->proto_ = [[MTMTProto alloc] initWithLong:key withLong:[((JavaUtilRandom *) [[JavaUtilRandom alloc] init]) nextLong] withAMEndpoints:self->endpoints_ withMTMTProtoCallback:[[ImActorModelNetworkApiApiBroker_$3 alloc] initWithImActorModelNetworkApiApiBroker:self]];
  for (ImActorModelNetworkApiApiBroker_RequestHolder * __strong holder in nil_chk([((JavaUtilHashMap *) nil_chk(self->requests_)) values])) {
    ((ImActorModelNetworkApiApiBroker_RequestHolder *) nil_chk(holder))->protoId_ = [self->proto_ sendRpcMessageWithMTProtoStruct:holder->message_];
    (void) [((JavaUtilHashMap *) nil_chk(self->idMap_)) putWithId:JavaLangLong_valueOfWithLong_(holder->protoId_) withId:JavaLangLong_valueOfWithLong_(holder->publicId_)];
  }
}

void ImActorModelNetworkApiApiBroker_performRequestWithLong_withImActorModelNetworkParserRequest_withAMRpcCallback_(ImActorModelNetworkApiApiBroker *self, jlong randomId, ImActorModelNetworkParserRequest *message, id<AMRpcCallback> callback) {
  AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, JreStrcat("$J$@", @"-> request#", randomId, @": ", message));
  ImActorModelNetworkApiApiBroker_RequestHolder *holder = [[ImActorModelNetworkApiApiBroker_RequestHolder alloc] initWithImActorModelNetworkApiApiBroker:self withLong:randomId withMTRpcRequest:[[MTRpcRequest alloc] initWithInt:[((ImActorModelNetworkParserRequest *) nil_chk(message)) getHeaderKey] withByteArray:[message toByteArray]] withAMRpcCallback:callback];
  (void) [((JavaUtilHashMap *) nil_chk(self->requests_)) putWithId:JavaLangLong_valueOfWithLong_(holder->publicId_) withId:holder];
  if (self->proto_ != nil) {
    jlong mid = [self->proto_ sendRpcMessageWithMTProtoStruct:holder->message_];
    holder->protoId_ = mid;
    (void) [((JavaUtilHashMap *) nil_chk(self->idMap_)) putWithId:JavaLangLong_valueOfWithLong_(mid) withId:JavaLangLong_valueOfWithLong_(randomId)];
  }
}

void ImActorModelNetworkApiApiBroker_processResponseWithLong_withByteArray_(ImActorModelNetworkApiApiBroker *self, jlong mid, IOSByteArray *content) {
  MTProtoStruct *protoStruct;
  @try {
    protoStruct = MTProtoSerializer_readRpcResponsePayloadWithByteArray_(content);
  }
  @catch (JavaIoIOException *e) {
    [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    AMLog_wWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, JreStrcat("$J", @"Broken response mid#", mid));
    return;
  }
  jlong rid;
  if ([((JavaUtilHashMap *) nil_chk(self->idMap_)) containsKeyWithId:JavaLangLong_valueOfWithLong_(mid)]) {
    rid = [((JavaLangLong *) nil_chk([self->idMap_ getWithId:JavaLangLong_valueOfWithLong_(mid)])) longLongValue];
  }
  else {
    return;
  }
  ImActorModelNetworkApiApiBroker_RequestHolder *holder;
  if ([((JavaUtilHashMap *) nil_chk(self->requests_)) containsKeyWithId:JavaLangLong_valueOfWithLong_(rid)]) {
    holder = [self->requests_ getWithId:JavaLangLong_valueOfWithLong_(rid)];
  }
  else {
    return;
  }
  if ([protoStruct isKindOfClass:[MTRpcOk class]]) {
    MTRpcOk *ok = (MTRpcOk *) check_class_cast(protoStruct, [MTRpcOk class]);
    (void) [self->requests_ removeWithId:JavaLangLong_valueOfWithLong_(rid)];
    if (((ImActorModelNetworkApiApiBroker_RequestHolder *) nil_chk(holder))->protoId_ != 0) {
      (void) [self->idMap_ removeWithId:JavaLangLong_valueOfWithLong_(holder->protoId_)];
    }
    ImActorModelNetworkParserResponse *response;
    @try {
      response = (ImActorModelNetworkParserResponse *) check_class_cast([((ImActorModelApiParserRpcParser *) [[ImActorModelApiParserRpcParser alloc] init]) readWithInt:((MTRpcOk *) nil_chk(ok))->responseType_ withByteArray:ok->payload_], [ImActorModelNetworkParserResponse class]);
    }
    @catch (JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
      return;
    }
    AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, JreStrcat("$J$@", @"<- response#", holder->publicId_, @": ", response));
    [((id<AMRpcCallback>) nil_chk(holder->callback_)) onResultWithImActorModelNetworkParserResponse:response];
  }
  else if ([protoStruct isKindOfClass:[MTRpcError class]]) {
    MTRpcError *e = (MTRpcError *) check_class_cast(protoStruct, [MTRpcError class]);
    (void) [self->requests_ removeWithId:JavaLangLong_valueOfWithLong_(rid)];
    if (((ImActorModelNetworkApiApiBroker_RequestHolder *) nil_chk(holder))->protoId_ != 0) {
      (void) [self->idMap_ removeWithId:JavaLangLong_valueOfWithLong_(holder->protoId_)];
    }
    [((id<AMRpcCallback>) nil_chk(holder->callback_)) onErrorWithAMRpcException:[[AMRpcException alloc] initWithNSString:((MTRpcError *) nil_chk(e))->errorTag_ withInt:e->errorCode_ withNSString:e->userMessage_ withBoolean:e->canTryAgain_ withByteArray:e->relatedData_]];
  }
  else if ([protoStruct isKindOfClass:[MTRpcInternalError class]]) {
    MTRpcInternalError *e = ((MTRpcInternalError *) check_class_cast(protoStruct, [MTRpcInternalError class]));
    if ([((MTRpcInternalError *) nil_chk(e)) isCanTryAgain]) {
      [((ImActorModelDroidkitActorsActorRef *) nil_chk([self self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_ForceResend alloc] initWithImActorModelNetworkApiApiBroker:self withLong:rid] withLong:[e getTryAgainDelay] * 1000LL];
    }
    else {
      (void) [self->requests_ removeWithId:JavaLangLong_valueOfWithLong_(rid)];
      if (((ImActorModelNetworkApiApiBroker_RequestHolder *) nil_chk(holder))->protoId_ != 0) {
        (void) [self->idMap_ removeWithId:JavaLangLong_valueOfWithLong_(holder->protoId_)];
      }
      [((id<AMRpcCallback>) nil_chk(holder->callback_)) onErrorWithAMRpcException:[[AMRpcInternalException alloc] init]];
    }
  }
  else if ([protoStruct isKindOfClass:[MTRpcFloodWait class]]) {
    MTRpcFloodWait *f = (MTRpcFloodWait *) check_class_cast(protoStruct, [MTRpcFloodWait class]);
    [((ImActorModelDroidkitActorsActorRef *) nil_chk([self self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_ForceResend alloc] initWithImActorModelNetworkApiApiBroker:self withLong:rid] withLong:[((MTRpcFloodWait *) nil_chk(f)) getDelay] * 1000LL];
  }
  else {
  }
}

void ImActorModelNetworkApiApiBroker_forceResendWithLong_(ImActorModelNetworkApiApiBroker *self, jlong randomId) {
  ImActorModelNetworkApiApiBroker_RequestHolder *holder = [((JavaUtilHashMap *) nil_chk(self->requests_)) getWithId:JavaLangLong_valueOfWithLong_(randomId)];
  if (holder != nil) {
    if (holder->protoId_ != 0) {
      (void) [((JavaUtilHashMap *) nil_chk(self->idMap_)) removeWithId:JavaLangLong_valueOfWithLong_(holder->protoId_)];
      [((MTMTProto *) nil_chk(self->proto_)) cancelRpcWithLong:holder->protoId_];
    }
    [((MTMTProto *) nil_chk(self->proto_)) sendRpcMessageWithMTProtoStruct:holder->message_];
  }
}

void ImActorModelNetworkApiApiBroker_cancelRequestWithLong_(ImActorModelNetworkApiApiBroker *self, jlong randomId) {
  ImActorModelNetworkApiApiBroker_RequestHolder *holder = [((JavaUtilHashMap *) nil_chk(self->requests_)) getWithId:JavaLangLong_valueOfWithLong_(randomId)];
  if (holder != nil) {
    (void) [self->requests_ removeWithId:JavaLangLong_valueOfWithLong_(randomId)];
    if (holder->protoId_ != 0 && self->proto_ != nil) {
      (void) [((JavaUtilHashMap *) nil_chk(self->idMap_)) removeWithId:JavaLangLong_valueOfWithLong_(holder->protoId_)];
      [self->proto_ cancelRpcWithLong:holder->protoId_];
    }
  }
}

void ImActorModelNetworkApiApiBroker_processUpdateWithByteArray_(ImActorModelNetworkApiApiBroker *self, IOSByteArray *content) {
  MTProtoStruct *protoStruct;
  @try {
    protoStruct = MTProtoSerializer_readUpdateWithByteArray_(content);
  }
  @catch (JavaIoIOException *e) {
    [((JavaIoIOException *) nil_chk(e)) printStackTrace];
    AMLog_wWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, @"Broken mt update");
    return;
  }
  if ([protoStruct isKindOfClass:[MTPush class]]) {
    jint type = ((MTPush *) nil_chk(((MTPush *) check_class_cast(protoStruct, [MTPush class]))))->updateType_;
    IOSByteArray *body = ((MTPush *) nil_chk(((MTPush *) check_class_cast(protoStruct, [MTPush class]))))->body_;
    ImActorModelNetworkParserRpcScope *updateBox;
    @try {
      updateBox = [((ImActorModelApiParserRpcParser *) [[ImActorModelApiParserRpcParser alloc] init]) readWithInt:type withByteArray:body];
    }
    @catch (JavaIoIOException *e) {
      [((JavaIoIOException *) nil_chk(e)) printStackTrace];
      AMLog_wWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_TAG_, @"Broken update box");
      return;
    }
    [((id<AMActorApiCallback>) nil_chk(self->callback_)) onUpdateReceivedWithId:updateBox];
  }
  else {
  }
}

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker)

@implementation ImActorModelNetworkApiApiBroker_PerformRequest

- (instancetype)initWithImActorModelNetworkParserRequest:(ImActorModelNetworkParserRequest *)message
                                       withAMRpcCallback:(id<AMRpcCallback>)callback {
  if (self = [super init]) {
    self->message_ = message;
    self->callback_ = callback;
  }
  return self;
}

- (ImActorModelNetworkParserRequest *)getMessage {
  return message_;
}

- (id<AMRpcCallback>)getCallback {
  return callback_;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_PerformRequest *)other {
  [super copyAllFieldsTo:other];
  other->message_ = message_;
  other->callback_ = callback_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkParserRequest:withAMRpcCallback:", "PerformRequest", NULL, 0x1, NULL },
    { "getMessage", NULL, "Lim.actor.model.network.parser.Request;", 0x1, NULL },
    { "getCallback", NULL, "Lim.actor.model.network.RpcCallback;", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "message_", NULL, 0x2, "Lim.actor.model.network.parser.Request;", NULL,  },
    { "callback_", NULL, 0x2, "Lim.actor.model.network.RpcCallback;", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_PerformRequest = { 1, "PerformRequest", "im.actor.model.network.api", "ApiBroker", 0x9, 3, methods, 2, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_PerformRequest;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_PerformRequest)

@implementation ImActorModelNetworkApiApiBroker_CancelRequest

- (instancetype)initWithLong:(jlong)randomId {
  if (self = [super init]) {
    self->randomId_ = randomId;
  }
  return self;
}

- (jlong)getRandomId {
  return randomId_;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_CancelRequest *)other {
  [super copyAllFieldsTo:other];
  other->randomId_ = randomId_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithLong:", "CancelRequest", NULL, 0x1, NULL },
    { "getRandomId", NULL, "J", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "randomId_", NULL, 0x2, "J", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_CancelRequest = { 1, "CancelRequest", "im.actor.model.network.api", "ApiBroker", 0x9, 2, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_CancelRequest;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_CancelRequest)

@implementation ImActorModelNetworkApiApiBroker_RequestAuthId

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$ {
  return [super init];
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_RequestAuthId = { 1, "RequestAuthId", "im.actor.model.network.api", "ApiBroker", 0x2, 1, methods, 0, NULL, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_RequestAuthId;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_RequestAuthId)

@implementation ImActorModelNetworkApiApiBroker_InitMTProto

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                               withLong:(jlong)authId {
  if (self = [super init]) {
    self->authId_ = authId;
  }
  return self;
}

- (jlong)getAuthId {
  return authId_;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_InitMTProto *)other {
  [super copyAllFieldsTo:other];
  other->authId_ = authId_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:withLong:", "InitMTProto", NULL, 0x1, NULL },
    { "getAuthId", NULL, "J", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "authId_", NULL, 0x2, "J", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_InitMTProto = { 1, "InitMTProto", "im.actor.model.network.api", "ApiBroker", 0x2, 2, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_InitMTProto;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_InitMTProto)

@implementation ImActorModelNetworkApiApiBroker_ProtoResponse

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                               withLong:(jlong)responseId
                                          withByteArray:(IOSByteArray *)data {
  if (self = [super init]) {
    self->responseId_ = responseId;
    self->data_ = data;
  }
  return self;
}

- (jlong)getResponseId {
  return responseId_;
}

- (IOSByteArray *)getData {
  return data_;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_ProtoResponse *)other {
  [super copyAllFieldsTo:other];
  other->responseId_ = responseId_;
  other->data_ = data_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:withLong:withByteArray:", "ProtoResponse", NULL, 0x1, NULL },
    { "getResponseId", NULL, "J", 0x1, NULL },
    { "getData", NULL, "[B", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "responseId_", NULL, 0x2, "J", NULL,  },
    { "data_", NULL, 0x2, "[B", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_ProtoResponse = { 1, "ProtoResponse", "im.actor.model.network.api", "ApiBroker", 0x2, 3, methods, 2, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_ProtoResponse;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_ProtoResponse)

@implementation ImActorModelNetworkApiApiBroker_ProtoUpdate

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                          withByteArray:(IOSByteArray *)data {
  if (self = [super init]) {
    self->data_ = data;
  }
  return self;
}

- (IOSByteArray *)getData {
  return data_;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_ProtoUpdate *)other {
  [super copyAllFieldsTo:other];
  other->data_ = data_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:withByteArray:", "ProtoUpdate", NULL, 0x1, NULL },
    { "getData", NULL, "[B", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "data_", NULL, 0x2, "[B", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_ProtoUpdate = { 1, "ProtoUpdate", "im.actor.model.network.api", "ApiBroker", 0x2, 2, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_ProtoUpdate;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_ProtoUpdate)

@implementation ImActorModelNetworkApiApiBroker_ForceResend

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                               withLong:(jlong)id_ {
  if (self = [super init]) {
    self->id__ = id_;
  }
  return self;
}

- (jlong)getId {
  return id__;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_ForceResend *)other {
  [super copyAllFieldsTo:other];
  other->id__ = id__;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:withLong:", "ForceResend", NULL, 0x1, NULL },
    { "getId", NULL, "J", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "id__", "id", 0x2, "J", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_ForceResend = { 1, "ForceResend", "im.actor.model.network.api", "ApiBroker", 0x2, 2, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_ForceResend;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_ForceResend)

@implementation ImActorModelNetworkApiApiBroker_RequestHolder

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$
                                               withLong:(jlong)publicId
                                       withMTRpcRequest:(MTRpcRequest *)message
                                      withAMRpcCallback:(id<AMRpcCallback>)callback {
  if (self = [super init]) {
    self->message_ = message;
    self->publicId_ = publicId;
    self->callback_ = callback;
  }
  return self;
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_RequestHolder *)other {
  [super copyAllFieldsTo:other];
  other->message_ = message_;
  other->publicId_ = publicId_;
  other->callback_ = callback_;
  other->protoId_ = protoId_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithImActorModelNetworkApiApiBroker:withLong:withMTRpcRequest:withAMRpcCallback:", "RequestHolder", NULL, 0x2, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "message_", NULL, 0x12, "Lim.actor.model.network.mtp.entity.rpc.RpcRequest;", NULL,  },
    { "publicId_", NULL, 0x12, "J", NULL,  },
    { "callback_", NULL, 0x12, "Lim.actor.model.network.RpcCallback;", NULL,  },
    { "protoId_", NULL, 0x2, "J", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_RequestHolder = { 1, "RequestHolder", "im.actor.model.network.api", "ApiBroker", 0x2, 1, methods, 4, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_RequestHolder;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_RequestHolder)

@implementation ImActorModelNetworkApiApiBroker_$1

- (ImActorModelNetworkApiApiBroker *)create {
  return [[ImActorModelNetworkApiApiBroker alloc] initWithAMEndpoints:val$endpoints_ withAMAuthKeyStorage:val$keyStorage_ withAMActorApiCallback:val$callback_];
}

- (instancetype)initWithAMEndpoints:(AMEndpoints *)capture$0
               withAMAuthKeyStorage:(id<AMAuthKeyStorage>)capture$1
             withAMActorApiCallback:(id<AMActorApiCallback>)capture$2 {
  val$endpoints_ = capture$0;
  val$keyStorage_ = capture$1;
  val$callback_ = capture$2;
  return [super init];
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_$1 *)other {
  [super copyAllFieldsTo:other];
  other->val$endpoints_ = val$endpoints_;
  other->val$keyStorage_ = val$keyStorage_;
  other->val$callback_ = val$callback_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "create", NULL, "Lim.actor.model.network.api.ApiBroker;", 0x1, NULL },
    { "initWithAMEndpoints:withAMAuthKeyStorage:withAMActorApiCallback:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$endpoints_", NULL, 0x1012, "Lim.actor.model.network.Endpoints;", NULL,  },
    { "val$keyStorage_", NULL, 0x1012, "Lim.actor.model.network.AuthKeyStorage;", NULL,  },
    { "val$callback_", NULL, 0x1012, "Lim.actor.model.network.ActorApiCallback;", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_$1 = { 1, "$1", "im.actor.model.network.api", "ApiBroker", 0x8000, 2, methods, 3, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_$1;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_$1)

@implementation ImActorModelNetworkApiApiBroker_$2

- (void)onSuccessWithLong:(jlong)authId {
  AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_get_TAG_(), @"Key created");
  [((ImActorModelDroidkitActorsActorRef *) nil_chk([this$0_ self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_InitMTProto alloc] initWithImActorModelNetworkApiApiBroker:this$0_ withLong:authId]];
}

- (void)onFailure {
  AMLog_dWithNSString_withNSString_(ImActorModelNetworkApiApiBroker_get_TAG_(), @"Key creation failure");
  [((ImActorModelDroidkitActorsActorRef *) nil_chk([this$0_ self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_RequestAuthId alloc] initWithImActorModelNetworkApiApiBroker:this$0_]];
}

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$ {
  this$0_ = outer$;
  return [super init];
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_$2 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onSuccessWithLong:", "onSuccess", "V", 0x1, NULL },
    { "onFailure", NULL, "V", 0x1, NULL },
    { "initWithImActorModelNetworkApiApiBroker:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.model.network.api.ApiBroker;", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_$2 = { 1, "$2", "im.actor.model.network.api", "ApiBroker", 0x8000, 3, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_$2;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_$2)

@implementation ImActorModelNetworkApiApiBroker_$3

- (void)onRpcResponseWithLong:(jlong)mid
                withByteArray:(IOSByteArray *)content {
  [((ImActorModelDroidkitActorsActorRef *) nil_chk([this$0_ self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_ProtoResponse alloc] initWithImActorModelNetworkApiApiBroker:this$0_ withLong:mid withByteArray:content]];
}

- (void)onUpdateWithByteArray:(IOSByteArray *)content {
  [((ImActorModelDroidkitActorsActorRef *) nil_chk([this$0_ self__])) sendWithId:[[ImActorModelNetworkApiApiBroker_ProtoUpdate alloc] initWithImActorModelNetworkApiApiBroker:this$0_ withByteArray:content]];
}

- (void)onAuthKeyInvalidatedWithLong:(jlong)authKey {
  [((id<AMActorApiCallback>) nil_chk(this$0_->callback_)) onAuthIdInvalidatedWithLong:authKey];
}

- (void)onSessionCreated {
  [((id<AMActorApiCallback>) nil_chk(this$0_->callback_)) onNewSessionCreated];
}

- (instancetype)initWithImActorModelNetworkApiApiBroker:(ImActorModelNetworkApiApiBroker *)outer$ {
  this$0_ = outer$;
  return [super init];
}

- (void)copyAllFieldsTo:(ImActorModelNetworkApiApiBroker_$3 *)other {
  [super copyAllFieldsTo:other];
  other->this$0_ = this$0_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onRpcResponseWithLong:withByteArray:", "onRpcResponse", "V", 0x1, NULL },
    { "onUpdateWithByteArray:", "onUpdate", "V", 0x1, NULL },
    { "onAuthKeyInvalidatedWithLong:", "onAuthKeyInvalidated", "V", 0x1, NULL },
    { "onSessionCreated", NULL, "V", 0x1, NULL },
    { "initWithImActorModelNetworkApiApiBroker:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.model.network.api.ApiBroker;", NULL,  },
  };
  static const J2ObjcClassInfo _ImActorModelNetworkApiApiBroker_$3 = { 1, "$3", "im.actor.model.network.api", "ApiBroker", 0x8000, 5, methods, 1, fields, 0, NULL};
  return &_ImActorModelNetworkApiApiBroker_$3;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ImActorModelNetworkApiApiBroker_$3)
