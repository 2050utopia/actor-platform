//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/im/actor/model/Messenger.java
//

#include "J2ObjC_source.h"
#include "im/actor/model/Configuration.h"
#include "im/actor/model/Messenger.h"
#include "im/actor/model/State.h"
#include "im/actor/model/entity/Peer.h"
#include "im/actor/model/modules/Auth.h"
#include "im/actor/model/modules/Messages.h"
#include "im/actor/model/modules/Updates.h"
#include "im/actor/model/modules/Users.h"
#include "im/actor/model/mvvm/KeyValueEngine.h"
#include "im/actor/model/mvvm/ListEngine.h"
#include "im/actor/model/network/ActorApi.h"
#include "im/actor/model/network/Endpoints.h"
#include "im/actor/model/storage/PreferenceApiStorage.h"
#include "im/actor/model/storage/PreferencesStorage.h"

@interface AMMessenger () {
 @public
  AMConfiguration *configuration_;
  ImActorModelModulesAuth *auth_;
  ImActorModelModulesUsers *users_;
  ImActorModelModulesUpdates *updates_;
  ImActorModelModulesMessages *messages_;
  AMActorApi *actorApi_;
}
@end

J2OBJC_FIELD_SETTER(AMMessenger, configuration_, AMConfiguration *)
J2OBJC_FIELD_SETTER(AMMessenger, auth_, ImActorModelModulesAuth *)
J2OBJC_FIELD_SETTER(AMMessenger, users_, ImActorModelModulesUsers *)
J2OBJC_FIELD_SETTER(AMMessenger, updates_, ImActorModelModulesUpdates *)
J2OBJC_FIELD_SETTER(AMMessenger, messages_, ImActorModelModulesMessages *)
J2OBJC_FIELD_SETTER(AMMessenger, actorApi_, AMActorApi *)

@interface AMMessenger_$1 () {
 @public
  AMMessenger *this$0_;
}
@end

J2OBJC_FIELD_SETTER(AMMessenger_$1, this$0_, AMMessenger *)

@implementation AMMessenger

- (instancetype)initWithAMConfiguration:(AMConfiguration *)configuration {
  if (self = [super init]) {
    AMMessenger_set_configuration_(self, configuration);
    AMMessenger_setAndConsume_actorApi_(self, [[AMActorApi alloc] initWithAMEndpoints:[((AMConfiguration *) nil_chk(configuration)) getEndpoints] withAMAuthKeyStorage:[[[ImActorModelStoragePreferenceApiStorage alloc] initWithImActorModelStoragePreferencesStorage:[configuration getPreferencesStorage]] autorelease] withAMActorApiCallback:[[[AMMessenger_$1 alloc] initWithAMMessenger:self] autorelease]]);
    AMMessenger_setAndConsume_auth_(self, [[ImActorModelModulesAuth alloc] initWithAMMessenger:self]);
  }
  return self;
}

- (void)onLoggedIn {
  AMMessenger_setAndConsume_users_(self, [[ImActorModelModulesUsers alloc] initWithAMMessenger:self]);
  AMMessenger_setAndConsume_messages_(self, [[ImActorModelModulesMessages alloc] initWithAMMessenger:self]);
  AMMessenger_setAndConsume_updates_(self, [[ImActorModelModulesUpdates alloc] initWithAMMessenger:self]);
}

- (jint)myUid {
  return [((ImActorModelModulesAuth *) nil_chk(auth_)) myUid];
}

- (ImActorModelModulesUpdates *)getUpdatesModule {
  return updates_;
}

- (ImActorModelModulesMessages *)getMessagesModule {
  return messages_;
}

- (id<ImActorModelMvvmListEngine>)getMessagesWithImActorModelEntityPeer:(ImActorModelEntityPeer *)peer {
  return [((ImActorModelModulesMessages *) nil_chk(messages_)) getConversationEngineWithImActorModelEntityPeer:peer];
}

- (id<ImActorModelMvvmListEngine>)getDialogs {
  return [((ImActorModelModulesMessages *) nil_chk(messages_)) getDialogsEngine];
}

- (id<ImActorModelMvvmKeyValueEngine>)getUsers {
  return [((ImActorModelModulesUsers *) nil_chk(users_)) getUsers];
}

- (AMConfiguration *)getConfiguration {
  return configuration_;
}

- (AMActorApi *)getActorApi {
  return actorApi_;
}

- (ImActorModelModulesAuth *)getAuth {
  return auth_;
}

- (AMStateEnum *)getState {
  return [((ImActorModelModulesAuth *) nil_chk(auth_)) getState];
}

- (void)dealloc {
  RELEASE_(configuration_);
  RELEASE_(auth_);
  RELEASE_(users_);
  RELEASE_(updates_);
  RELEASE_(messages_);
  RELEASE_(actorApi_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(AMMessenger *)other {
  [super copyAllFieldsTo:other];
  AMMessenger_set_configuration_(other, configuration_);
  AMMessenger_set_auth_(other, auth_);
  AMMessenger_set_users_(other, users_);
  AMMessenger_set_updates_(other, updates_);
  AMMessenger_set_messages_(other, messages_);
  AMMessenger_set_actorApi_(other, actorApi_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithAMConfiguration:", "Messenger", NULL, 0x1, NULL },
    { "onLoggedIn", NULL, "V", 0x1, NULL },
    { "myUid", NULL, "I", 0x1, NULL },
    { "getUpdatesModule", NULL, "Lim.actor.model.modules.Updates;", 0x1, NULL },
    { "getMessagesModule", NULL, "Lim.actor.model.modules.Messages;", 0x1, NULL },
    { "getMessagesWithImActorModelEntityPeer:", "getMessages", "Lim.actor.model.mvvm.ListEngine;", 0x1, NULL },
    { "getDialogs", NULL, "Lim.actor.model.mvvm.ListEngine;", 0x1, NULL },
    { "getUsers", NULL, "Lim.actor.model.mvvm.KeyValueEngine;", 0x1, NULL },
    { "getConfiguration", NULL, "Lim.actor.model.Configuration;", 0x1, NULL },
    { "getActorApi", NULL, "Lim.actor.model.network.ActorApi;", 0x1, NULL },
    { "getAuth", NULL, "Lim.actor.model.modules.Auth;", 0x1, NULL },
    { "getState", NULL, "Lim.actor.model.State;", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "configuration_", NULL, 0x2, "Lim.actor.model.Configuration;", NULL,  },
    { "auth_", NULL, 0x2, "Lim.actor.model.modules.Auth;", NULL,  },
    { "users_", NULL, 0x42, "Lim.actor.model.modules.Users;", NULL,  },
    { "updates_", NULL, 0x42, "Lim.actor.model.modules.Updates;", NULL,  },
    { "messages_", NULL, 0x42, "Lim.actor.model.modules.Messages;", NULL,  },
    { "actorApi_", NULL, 0x2, "Lim.actor.model.network.ActorApi;", NULL,  },
  };
  static const J2ObjcClassInfo _AMMessenger = { 1, "Messenger", "im.actor.model", NULL, 0x1, 12, methods, 6, fields, 0, NULL};
  return &_AMMessenger;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AMMessenger)

@implementation AMMessenger_$1

- (void)onAuthIdInvalidatedWithLong:(jlong)authKey {
}

- (void)onNewSessionCreated {
  if (this$0_->updates_ != nil) {
    [this$0_->updates_ onSessionCreated];
  }
}

- (void)onUpdateReceivedWithId:(id)obj {
  if (this$0_->updates_ != nil) {
    [this$0_->updates_ onUpdateReceivedWithId:obj];
  }
}

- (instancetype)initWithAMMessenger:(AMMessenger *)outer$ {
  AMMessenger_$1_set_this$0_(self, outer$);
  return [super init];
}

- (void)dealloc {
  RELEASE_(this$0_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(AMMessenger_$1 *)other {
  [super copyAllFieldsTo:other];
  AMMessenger_$1_set_this$0_(other, this$0_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onAuthIdInvalidatedWithLong:", "onAuthIdInvalidated", "V", 0x1, NULL },
    { "onNewSessionCreated", NULL, "V", 0x1, NULL },
    { "onUpdateReceivedWithId:", "onUpdateReceived", "V", 0x1, NULL },
    { "initWithAMMessenger:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "Lim.actor.model.Messenger;", NULL,  },
  };
  static const J2ObjcClassInfo _AMMessenger_$1 = { 1, "$1", "im.actor.model", "Messenger", 0x8000, 4, methods, 1, fields, 0, NULL};
  return &_AMMessenger_$1;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(AMMessenger_$1)
