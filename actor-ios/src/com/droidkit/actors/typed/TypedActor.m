//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/ex3ndr/Develop/actor-model/actor-ios/build/java/com/droidkit/actors/typed/TypedActor.java
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "J2ObjC_source.h"
#include "com/droidkit/actors/concurrency/Future.h"
#include "com/droidkit/actors/typed/ClientFuture.h"
#include "com/droidkit/actors/typed/ResultFuture.h"
#include "com/droidkit/actors/typed/TypedActor.h"
#include "com/droidkit/actors/typed/TypedFuture.h"
#include "com/droidkit/actors/typed/messages/TypedRequest.h"
#include "java/lang/IllegalAccessException.h"
#include "java/lang/Throwable.h"
#include "java/lang/reflect/InvocationTargetException.h"
#include "java/lang/reflect/Method.h"

@interface ComDroidkitActorsTypedTypedActor_$1 () {
 @public
  ComDroidkitActorsTypedMessagesTypedRequest *val$req_;
}
@end

J2OBJC_FIELD_SETTER(ComDroidkitActorsTypedTypedActor_$1, val$req_, ComDroidkitActorsTypedMessagesTypedRequest *)

@implementation ComDroidkitActorsTypedTypedActor

- (instancetype)initWithIOSClass:(IOSClass *)clazz {
  if (self = [super init]) {
    ComDroidkitActorsTypedTypedActor_set_clazz_(self, clazz);
  }
  return self;
}

- (void)onReceiveWithId:(id)message {
  if ([message isKindOfClass:[ComDroidkitActorsTypedMessagesTypedRequest class]]) {
    ComDroidkitActorsTypedMessagesTypedRequest *req = (ComDroidkitActorsTypedMessagesTypedRequest *) check_class_cast(message, [ComDroidkitActorsTypedMessagesTypedRequest class]);
    @try {
      if ([((IOSClass *) nil_chk([((JavaLangReflectMethod *) nil_chk([((ComDroidkitActorsTypedMessagesTypedRequest *) nil_chk(req)) getMethod])) getReturnType])) isEqual:ComDroidkitActorsConcurrencyFuture_class_()]) {
        @try {
          ComDroidkitActorsConcurrencyFuture *future = (ComDroidkitActorsConcurrencyFuture *) check_class_cast([((JavaLangReflectMethod *) nil_chk([req getMethod])) invokeWithId:self withNSObjectArray:[req getArgs]], [ComDroidkitActorsConcurrencyFuture class]);
          if ([future isKindOfClass:[ComDroidkitActorsTypedResultFuture class]]) {
            [((ComDroidkitActorsTypedClientFuture *) nil_chk([req getFuture])) doCompleteWithId:[((ComDroidkitActorsConcurrencyFuture *) nil_chk(future)) get]];
          }
          else if ([future isKindOfClass:[ComDroidkitActorsTypedTypedFuture class]]) {
            [((ComDroidkitActorsConcurrencyFuture *) nil_chk(future)) addListenerWithComDroidkitActorsConcurrencyFutureCallback:[[[ComDroidkitActorsTypedTypedActor_$1 alloc] initWithComDroidkitActorsTypedMessagesTypedRequest:req] autorelease]];
          }
          else {
          }
        }
        @catch (JavaLangThrowable *t) {
          [((JavaLangThrowable *) nil_chk(t)) printStackTrace];
          [((ComDroidkitActorsTypedClientFuture *) nil_chk([req getFuture])) doErrorWithJavaLangThrowable:t];
        }
      }
      else {
        [((JavaLangReflectMethod *) nil_chk([req getMethod])) invokeWithId:self withNSObjectArray:[req getArgs]];
      }
    }
    @catch (JavaLangIllegalAccessException *e) {
      [((JavaLangIllegalAccessException *) nil_chk(e)) printStackTrace];
    }
    @catch (JavaLangReflectInvocationTargetException *e) {
      [((JavaLangReflectInvocationTargetException *) nil_chk(e)) printStackTrace];
    }
  }
}

- (ComDroidkitActorsConcurrencyFuture *)resultWithId:(id)obj {
  return [[[ComDroidkitActorsTypedResultFuture alloc] initWithId:obj] autorelease];
}

- (ComDroidkitActorsTypedTypedFuture *)future {
  return [[[ComDroidkitActorsTypedTypedFuture alloc] init] autorelease];
}

- (void)dealloc {
  RELEASE_(clazz_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(ComDroidkitActorsTypedTypedActor *)other {
  [super copyAllFieldsTo:other];
  ComDroidkitActorsTypedTypedActor_set_clazz_(other, clazz_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithIOSClass:", "TypedActor", NULL, 0x1, NULL },
    { "onReceiveWithId:", "onReceive", "V", 0x1, NULL },
    { "resultWithId:", "result", "Lcom.droidkit.actors.concurrency.Future;", 0x4, NULL },
    { "future", NULL, "Lcom.droidkit.actors.typed.TypedFuture;", 0x4, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "clazz_", NULL, 0x1, "Ljava.lang.Class;", NULL,  },
  };
  static const J2ObjcClassInfo _ComDroidkitActorsTypedTypedActor = { 1, "TypedActor", "com.droidkit.actors.typed", NULL, 0x1, 4, methods, 1, fields, 0, NULL};
  return &_ComDroidkitActorsTypedTypedActor;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComDroidkitActorsTypedTypedActor)

@implementation ComDroidkitActorsTypedTypedActor_$1

- (void)onResultWithId:(id)result {
  [((ComDroidkitActorsTypedClientFuture *) nil_chk([((ComDroidkitActorsTypedMessagesTypedRequest *) nil_chk(val$req_)) getFuture])) doCompleteWithId:result];
}

- (void)onErrorWithJavaLangThrowable:(JavaLangThrowable *)throwable {
  [((ComDroidkitActorsTypedClientFuture *) nil_chk([((ComDroidkitActorsTypedMessagesTypedRequest *) nil_chk(val$req_)) getFuture])) doErrorWithJavaLangThrowable:throwable];
}

- (instancetype)initWithComDroidkitActorsTypedMessagesTypedRequest:(ComDroidkitActorsTypedMessagesTypedRequest *)capture$0 {
  ComDroidkitActorsTypedTypedActor_$1_set_val$req_(self, capture$0);
  return [super init];
}

- (void)dealloc {
  RELEASE_(val$req_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(ComDroidkitActorsTypedTypedActor_$1 *)other {
  [super copyAllFieldsTo:other];
  ComDroidkitActorsTypedTypedActor_$1_set_val$req_(other, val$req_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "onResultWithId:", "onResult", "V", 0x1, NULL },
    { "onErrorWithJavaLangThrowable:", "onError", "V", 0x1, NULL },
    { "initWithComDroidkitActorsTypedMessagesTypedRequest:", "init", NULL, 0x0, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "val$req_", NULL, 0x1012, "Lcom.droidkit.actors.typed.messages.TypedRequest;", NULL,  },
  };
  static const J2ObjcClassInfo _ComDroidkitActorsTypedTypedActor_$1 = { 1, "$1", "com.droidkit.actors.typed", "TypedActor", 0x8000, 3, methods, 1, fields, 0, NULL};
  return &_ComDroidkitActorsTypedTypedActor_$1;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(ComDroidkitActorsTypedTypedActor_$1)
